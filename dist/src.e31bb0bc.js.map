{"version":3,"sources":["index.js"],"names":["app","document","querySelector","div1","createElement","innerHTML","div11","div12","div2","div21","div22","div3","div4","div404","routeTable","routeTable2","hashTable","route","table","pathname","window","location","substr","div","appendChild","body","addEventListener","e","preventDefault","el","target","tagName","matches","href","getAttribute","history","pushState","onStateChange","pathArray","split","length"],"mappings":"AAAA,IAAMA,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAZ;AAEA,IAAMC,IAAI,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAb;AACAD,IAAI,CAACE,SAAL;AAMA,IAAMC,KAAK,GAAGL,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAd;AACAE,KAAK,CAACD,SAAN,GAAkB,YAAlB;AACA,IAAME,KAAK,GAAGN,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAd;AACAG,KAAK,CAACF,SAAN,GAAkB,YAAlB;AAEA,IAAMG,IAAI,GAAGP,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAb;AACAI,IAAI,CAACH,SAAL;AAMA,IAAMI,KAAK,GAAGR,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAd;AACAK,KAAK,CAACJ,SAAN,GAAkB,YAAlB;AACA,IAAMK,KAAK,GAAGT,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAd;AACAM,KAAK,CAACL,SAAN,GAAkB,YAAlB;AAEA,IAAMM,IAAI,GAAGV,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAb;AACAO,IAAI,CAACN,SAAL,GAAiB,YAAjB;AAEA,IAAMO,IAAI,GAAGX,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAb;AACAQ,IAAI,CAACP,SAAL,GAAiB,YAAjB;AAEA,IAAMQ,MAAM,GAAGZ,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAf;AACAS,MAAM,CAACR,SAAP,GAAmB,WAAnB;AAEA,IAAMS,UAAU,GAAG;AACf,OAAKX,IADU;AAEf,OAAKK,IAFU;AAGf,OAAKG,IAHU;AAIf,OAAKC;AAJU,CAAnB;AAOA,IAAMG,WAAW,GAAG;AAChB,SAAOT,KADS;AAEhB,SAAOC,KAFS;AAGhB,SAAOE,KAHS;AAIhB,SAAOC;AAJS,CAApB;AAOA,IAAMM,SAAS,GAAG;AACd,KAAGF,UADW;AAEd,KAAGC;AAFW,CAAlB,EAGC;;AAED,SAASE,KAAT,CAAeC,KAAf,EAAqB;AACjB,MAAMC,QAAQ,GAAGC,MAAM,CAACC,QAAP,CAAgBF,QAAhB,CAAyBG,MAAzB,CAAgC,CAAhC,KAAsC,GAAvD;AACA,MAAIC,GAAG,GAAGL,KAAK,CAACC,QAAD,CAAf;;AAEA,MAAG,CAACI,GAAJ,EAAQ;AACJA,IAAAA,GAAG,GAAGV,MAAN;AACH;;AAEDb,EAAAA,GAAG,CAACK,SAAJ,GAAgB,EAAhB;AACAL,EAAAA,GAAG,CAACwB,WAAJ,CAAgBD,GAAhB;AACH;;AAEDtB,QAAQ,CAACwB,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAwC,UAACC,CAAD,EAAK;AACzCA,EAAAA,CAAC,CAACC,cAAF;AACA,MAAMC,EAAE,GAAGF,CAAC,CAACG,MAAb;;AACA,MAAGD,EAAE,CAACE,OAAH,KAAe,GAAf,IAAsBF,EAAE,CAACG,OAAH,CAAW,OAAX,CAAzB,EAA6C;AACzC,QAAMC,IAAI,GAAGJ,EAAE,CAACK,YAAH,CAAgB,MAAhB,CAAb;AACAd,IAAAA,MAAM,CAACe,OAAP,CAAeC,SAAf,CAAyB,IAAzB,EAA+B,EAA/B,EAAmCH,IAAnC;AACAI,IAAAA,aAAa;AAChB;AACJ,CARD;AAUApB,KAAK,CAACH,UAAD,CAAL;;AAEA,SAASuB,aAAT,GAAwB;AACpB,MAAMlB,QAAQ,GAAGC,MAAM,CAACC,QAAP,CAAgBF,QAAhB,CAAyBG,MAAzB,CAAgC,CAAhC,KAAsC,GAAvD;AACA,MAAMgB,SAAS,GAAGnB,QAAQ,CAACoB,KAAT,CAAe,GAAf,CAAlB;AACA,MAAMrB,KAAK,GAAGF,SAAS,CAACsB,SAAS,CAACE,MAAX,CAAvB;AACAvB,EAAAA,KAAK,CAACC,KAAD,CAAL;AACH","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["const app = document.querySelector('#app')\r\n\r\nconst div1 = document.createElement('div')\r\ndiv1.innerHTML = `\r\n    <br/>\r\n    我是第1个页面的内容，我有两个路由\r\n    <a class=\"link\" href=\"/1/1\">查看1.1页面</a>\r\n    <a class=\"link\" href=\"/1/2\">查看1.2页面</a>\r\n`\r\nconst div11 = document.createElement('div')\r\ndiv11.innerHTML = '我是1.1页面的内容'\r\nconst div12 = document.createElement('div')\r\ndiv12.innerHTML = '我是1.2页面的内容'\r\n\r\nconst div2 = document.createElement('div')\r\ndiv2.innerHTML = `\r\n    <br/>\r\n    我是第2个页面的内容，我有两个路由\r\n    <a class=\"link\" href=\"/2/1\">查看2.1页面</a>\r\n    <a class=\"link\" href=\"/2/2\">查看2.2页面</a>\r\n    `\r\nconst div21 = document.createElement('div')\r\ndiv21.innerHTML = '我是2.1页面的内容'\r\nconst div22 = document.createElement('div')\r\ndiv22.innerHTML = '我是2.2页面的内容'\r\n\r\nconst div3 = document.createElement('div')\r\ndiv3.innerHTML = '我是第3个页面的内容'\r\n\r\nconst div4 = document.createElement('div')\r\ndiv4.innerHTML = '我是第4个页面的内容'\r\n\r\nconst div404 = document.createElement('div')\r\ndiv404.innerHTML = '您输入的页面不存在'\r\n\r\nconst routeTable = {\r\n    '1': div1,\r\n    '2': div2,\r\n    '3': div3,\r\n    '4': div4\r\n}\r\n\r\nconst routeTable2 = {\r\n    '1/1': div11,\r\n    '1/2': div12,\r\n    '2/1': div21,\r\n    '2/2': div22\r\n}\r\n\r\nconst hashTable = {\r\n    1: routeTable,\r\n    2: routeTable2\r\n}//不同的层数对应不同的 routeTable\r\n\r\nfunction route(table){\r\n    const pathname = window.location.pathname.substr(1) || '1'\r\n    let div = table[pathname]\r\n\r\n    if(!div){\r\n        div = div404\r\n    }\r\n\r\n    app.innerHTML = ''\r\n    app.appendChild(div)\r\n}\r\n\r\ndocument.body.addEventListener('click', (e)=>{\r\n    e.preventDefault()\r\n    const el = e.target\r\n    if(el.tagName === 'A' && el.matches('.link')){\r\n        const href = el.getAttribute('href')\r\n        window.history.pushState(null, '', href)\r\n        onStateChange()\r\n    }\r\n})\r\n\r\nroute(routeTable)\r\n\r\nfunction onStateChange(){\r\n    const pathname = window.location.pathname.substr(1) || '1'\r\n    const pathArray = pathname.split('/')\r\n    const table = hashTable[pathArray.length]\r\n    route(table)\r\n}\r\n\r\n"]}